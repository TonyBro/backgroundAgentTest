# ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Cursor IDE —á–µ—Ä–µ–∑ DevTools API

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç Cursor IDE –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ API —á–µ—Ä–µ–∑ DevTools.

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ:
1. **–ê–≥–µ–Ω—Ç 1** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ WebSocket
2. **–ê–≥–µ–Ω—Ç 2** (–≤ Cursor IDE) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ LLM —á–∞—Ç
3. –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —ç–º—É–ª—è—Ü–∏–∏ –∫–ª–∞–≤–∏—à –∏ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞

## üìã –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ

- `cursor-api-explorer.js` - –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ API Cursor
- `cursor-devtools-automation.js` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ 
- `cursor-websocket-client.js` - –ö–ª–∏–µ–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –¥—Ä—É–≥–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

## üöÄ –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### –®–∞–≥ 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ API Cursor

1. **–û—Ç–∫—Ä–æ–π DevTools –≤ Cursor IDE:**
   ```
   Ctrl+Shift+I (Windows/Linux) –∏–ª–∏ Cmd+Option+I (macOS)
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `cursor-api-explorer.js` –≤ –∫–æ–Ω—Å–æ–ª—å DevTools**

3. **–ò—Å—Å–ª–µ–¥—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   ```javascript
   // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –æ–±—ä–µ–∫—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —á–∞—Ç–æ–º
   window.cursorExplorer.testAllFunctions("–¢–µ—Å—Ç –æ—Ç –∞–≥–µ–Ω—Ç–∞");
   ```

4. **–ó–∞–ø–∏—à–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –æ–Ω–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Remote Debugging –≤ Cursor

Cursor –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π remote debugging:

#### macOS:
```bash
# –ó–∞–∫—Ä–æ–π Cursor –ø–æ–ª–Ω–æ—Å—Ç—å—é
# –ó–∞–ø—É—Å—Ç–∏ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å debugging –ø–æ—Ä—Ç–æ–º:
/Applications/Cursor.app/Contents/MacOS/Cursor --remote-debugging-port=9222
```

#### Windows:
```bash
# –ó–∞–∫—Ä–æ–π Cursor –ø–æ–ª–Ω–æ—Å—Ç—å—é
# –ó–∞–ø—É—Å—Ç–∏ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
"C:\Users\%USERNAME%\AppData\Local\Programs\cursor\Cursor.exe" --remote-debugging-port=9222
```

#### Linux:
```bash
# –ó–∞–∫—Ä–æ–π Cursor –ø–æ–ª–Ω–æ—Å—Ç—å—é
# –ó–∞–ø—É—Å—Ç–∏ —Å debugging –ø–æ—Ä—Ç–æ–º:
cursor --remote-debugging-port=9222
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install
   ```

2. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `cursor-devtools-automation.js`:**
   
   –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫–∏ –æ–∫–æ–ª–æ 42-55 –∏ –∑–∞–º–µ–Ω–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –Ω–∞ —à–∞–≥–µ 1:
   ```javascript
   // –ó–ê–ú–ï–ù–ò –≠–¢–ò –°–¢–†–û–ö–ò –ù–ê –†–ï–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –ò–ó cursor-api-explorer.js:
   if (window.cursorAPI && window.cursorAPI.chat) {
     window.cursorAPI.chat.sendMessage(message);
   } else if (window.vscode && window.vscode.postMessage) {
     window.vscode.postMessage({
       type: 'chat-message',
       content: message
     });
   }
   ```

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

1. **–ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
   ```bash
   node cursor-devtools-automation.js
   ```

2. **–í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –∑–∞–ø—É—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
   ```bash
   # –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ:
   node cursor-websocket-client.js "–ü—Ä–∏–≤–µ—Ç –æ—Ç –∞–≥–µ–Ω—Ç–∞!"
   
   # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:
   node cursor-websocket-client.js --interactive
   
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã:
   node cursor-websocket-client.js --test
   ```

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### –ï—Å–ª–∏ DevTools Protocol –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **DOM-based –ø–æ–¥—Ö–æ–¥** (–¥–æ–±–∞–≤—å –≤ `injectChatFunction`):
   ```javascript
   // –ù–∞–π—Ç–∏ textarea —á–∞—Ç–∞ –∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç
   const chatInput = document.querySelector('textarea[placeholder*="chat"]') || 
                     document.querySelector('[contenteditable="true"]');
   if (chatInput) {
     chatInput.value = message;
     chatInput.dispatchEvent(new Event('input', { bubbles: true }));
     
     // –≠–º—É–ª–∏—Ä–æ–≤–∞—Ç—å Enter
     chatInput.dispatchEvent(new KeyboardEvent('keydown', {
       key: 'Enter',
       bubbles: true
     }));
   }
   ```

2. **Event-based –ø–æ–¥—Ö–æ–¥**:
   ```javascript
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
   window.dispatchEvent(new CustomEvent('cursor-send-message', {
     detail: { message: message }
   }));
   ```

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏:

```javascript
const CursorWebSocketClient = require('./cursor-websocket-client.js');

class AgentWithCursorIntegration {
  constructor() {
    this.cursorClient = new CursorWebSocketClient();
  }
  
  async start() {
    await this.cursorClient.connect();
  }
  
  async sendToCursor(message) {
    return this.cursorClient.sendMessage(message);
  }
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ—Å—ã–ª–∫–∞ –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏:

```javascript
// –ê–≥–µ–Ω—Ç 1 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Cursor –¥–ª—è –ê–≥–µ–Ω—Ç–∞ 2
const result = await processTask(task);
await cursorClient.sendMessage(`–û–±—Ä–∞–±–æ—Ç–∞–π —ç—Ç–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`);
```

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å. –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –¥–æ–±–∞–≤—å:
```javascript
// –í cursor-devtools-automation.js
console.log('DEBUG: Trying to send message:', message);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Cursor:
```bash
# –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Cursor –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ debugging –ø–æ—Ä—Ç—É:
curl http://localhost:9222/json
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Cursor"**
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ Cursor –∑–∞–ø—É—â–µ–Ω —Å `--remote-debugging-port=9222`
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–æ—Ä—Ç 9222 —Å–≤–æ–±–æ–¥–µ–Ω

2. **"–§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"**
   - –ü–æ–≤—Ç–æ—Ä–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ API —Å `cursor-api-explorer.js`
   - Cursor –º–æ–≥ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –∏ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

3. **"WebSocket connection failed"**
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞ –∏ —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 3001
   - –ü—Ä–æ–≤–µ—Ä—å firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π WebSocket:
```json
{
  "type": "chat-message",
  "content": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
  "timestamp": 1640995200000,
  "from": "agent-client"
}
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤:
```javascript
// –í cursor-devtools-automation.js –∏–∑–º–µ–Ω–∏:
const debuggingPort = 9222; // Debugging –ø–æ—Ä—Ç Cursor
// –í startWebSocketServer –∏–∑–º–µ–Ω–∏:
this.startWebSocketServer(3001); // WebSocket –ø–æ—Ä—Ç

// –í cursor-websocket-client.js –∏–∑–º–µ–Ω–∏:
const url = 'ws://localhost:3001'; // URL WebSocket —Å–µ—Ä–≤–µ—Ä–∞
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API Cursor, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞ Cursor –≤–µ—Ä—Å–∏–∏ [—É–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é]
- –î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ error handling
- –°–æ–±–ª—é–¥–∞–π Terms of Service Cursor –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ó–∞–ø—É—Å—Ç–∏ `cursor-api-explorer.js` –∑–∞–Ω–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ DevTools –∫–æ–Ω—Å–æ–ª–∏ Cursor
3. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `npm install`

**–£–¥–∞—á–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π! üöÄ** 