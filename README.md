# Background Agent v2.0

–§–æ–Ω–æ–≤—ã–π –∞–≥–µ–Ω—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Worker Threads –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Å–æ–ª—å.

## ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ v2.0

- üßµ **Worker Threads** - –∞–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
- üîÑ **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å** - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –æ—Å—Ç–∞–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º
- üì° **–ú–µ–∂–ø–æ—Ç–æ—á–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è** - –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏
- üéõÔ∏è **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è worker

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ (agent.js)
‚îú‚îÄ‚îÄ BackgroundAgentManager
‚îî‚îÄ‚îÄ Worker Thread (worker.js)
    ‚îî‚îÄ‚îÄ BackgroundWorker
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js (–≤–µ—Ä—Å–∏—è 12 –∏–ª–∏ –≤—ã—à–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Worker Threads)

### –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞
```bash
# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫
npm start

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node
node agent.js

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ worker –æ—Ç–¥–µ–ª—å–Ω–æ
npm run test
```

### –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (Unix/Linux/macOS)
```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ª–æ–≥–æ–≤
nohup npm start > agent.log 2>&1 &

# –ò–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º screen
screen -S background-agent npm start

# –ò–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º pm2 (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
pm2 start agent.js --name "background-agent"
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **Worker Threads** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
- ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è "VLOG: –ø—Ä–∏–≤–µ—Ç –∏–∑ –±—ç–∫–≥—Ä–∞—É–Ω–¥–∞"
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Worker ID –∏ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (Ctrl+C)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- ‚úÖ –ú–µ–∂–ø–æ—Ç–æ—á–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ message passing
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º worker

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

- `agent.js` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –∞–≥–µ–Ω—Ç–∞
- `worker.js` - worker thread —Å –ª–æ–≥–∏–∫–æ–π —Ñ–æ–Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- `package.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞–≥–µ–Ω—Ç –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã. –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `agent.js`:

```javascript
const agentManager = new BackgroundAgentManager(5000); // 5 —Å–µ–∫—É–Ω–¥
```

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≥–µ–Ω—Ç–∞

- –í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ: `Ctrl+C`
- –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –≤ —Ñ–æ–Ω–µ: –Ω–∞–π–¥–∏—Ç–µ PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –µ–≥–æ
  ```bash
  ps aux | grep node
  kill [PID]
  ```

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
VLOG: –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ...
VLOG: –§–æ–Ω–æ–≤—ã–π worker –∑–∞–ø—É—â–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
VLOG: –ø—Ä–∏–≤–µ—Ç –∏–∑ –±—ç–∫–≥—Ä–∞—É–Ω–¥–∞
VLOG: –ø—Ä–∏–≤–µ—Ç –∏–∑ –±—ç–∫–≥—Ä–∞—É–Ω–¥–∞ [Worker ID: 12345, –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 3—Å]
VLOG: –ø—Ä–∏–≤–µ—Ç –∏–∑ –±—ç–∫–≥—Ä–∞—É–Ω–¥–∞ [Worker ID: 12345, –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 6—Å]
...
```

## API

### BackgroundAgentManager

```javascript
const agent = new BackgroundAgentManager(interval);

// –ó–∞–ø—É—Å–∫
agent.start();

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞
agent.stop();

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
agent.setInterval(5000);

// –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã worker
agent.sendCommand('customCommand', { data: 'value' });

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
const status = agent.getStatus();
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Worker Threads

1. **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º
2. **–ò–∑–æ–ª—è—Ü–∏—è** - worker —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö worker
4. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - —Å–±–æ–π –≤ worker –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ 